package com.yaowang.util;import java.io.BufferedInputStream;import java.io.BufferedOutputStream;import java.io.File;import java.io.FileInputStream;import java.io.FileNotFoundException;import java.io.FileOutputStream;import java.io.IOException;import java.util.Enumeration;import java.util.zip.ZipEntry;import java.util.zip.ZipInputStream;import org.apache.tools.zip.ZipFile;public class ZIPUtil {    /**     * @param args     * @throws FileNotFoundException      * @throws Exception      */    public static void unzip(String zipFile, String parent) throws IOException {        //输入源zip路径         FileInputStream is = new FileInputStream(zipFile);        ZipInputStream zin = new ZipInputStream(is);        BufferedInputStream bin = new BufferedInputStream(zin);           ZipEntry entry = null;        try {            while((entry = zin.getNextEntry())!= null){                exec(entry, bin, parent);            }        } finally {            try {                bin.close();                zin.close();            } catch (IOException e1) {                e1.printStackTrace();            }        }    }        private static void exec(ZipEntry entry, BufferedInputStream bin, String parent) throws IOException{        if (entry.isDirectory()) {            //创建文件夹            String path = parent + "/" + entry.getName();            mkdir(path);        }else {            File fout = new File(parent + "/" + entry.getName());            FileOutputStream out = new FileOutputStream(fout);            BufferedOutputStream bout = new BufferedOutputStream(out);            byte[] b = new byte[1024];            int length = bin.read(b);            while(length > -1){                bout.write(b, 0, length);                length = bin.read(b);            }            bout.close();            out.close();        }    }        private static void mkdir(String path){        new File(path).mkdirs();    }    /**     * 支持中文路径解压     * @param zipFile     * @param parent     * @throws IOException     */    public static void unzipGBK(String zipFile, String parent) throws IOException{        ZipFile zf = new ZipFile(zipFile, "GBK");//支持中文        Enumeration<ZipEntry> e = zf.getEntries();        while (e.hasMoreElements()) {            org.apache.tools.zip.ZipEntry zip = (org.apache.tools.zip.ZipEntry) e.nextElement();            String entryName = zip.getName();            String path = parent + "/" + entryName;            if (zip.isDirectory()) {                File decompressDirFile = new File(path);                if (!decompressDirFile.exists()) {                    decompressDirFile.mkdirs();                }            } else {                File fileDirFile = new File(path);                if (!fileDirFile.getParentFile().exists()) {                    fileDirFile.getParentFile().mkdirs();                }                BufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream(                          parent + "/" + entryName));                BufferedInputStream bi = new BufferedInputStream(zf.getInputStream(zip));                byte[] readContent = new byte[1024];                int readCount = bi.read(readContent);                while (readCount != -1) {                    bos.write(readContent, 0, readCount);                    readCount = bi.read(readContent);                }                bos.close();            }        }        zf.close();    }}