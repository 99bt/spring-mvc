/*  * @(#)FileSystemInitTask.java    Created on 2013-8-21 * Copyright (c) 2013 ZDSoft Networks, Inc. All rights reserved. * $Id$ */package com.yaowang.util.filesystem.util;import javax.annotation.Resource;import com.yaowang.common.util.LogUtil;import org.springframework.beans.factory.InitializingBean;import org.springframework.stereotype.Service;import com.yaowang.service.SysOptionService;import com.yaowang.service.impl.SysOptionServiceImpl;import com.yaowang.util.filesystem.impl.OSSFileSystem;/** * 文件服务初始化 * * @author shenl * @version $Revision: 1.0 $, $Date: 2013-8-21 下午9:48:32 $ */@Service("fileSystemInitBean")public class FileSystemInitBean implements InitializingBean {    //    private Log log = LogFactory.getLog(FileSystemInitBean.class);    @Resource    private SysOptionService sysOptionService;//    private String filePath;    @Override    public void afterPropertiesSet() throws Exception {//        if ("1".equals(fileType)) {        //store目录//    		filePath = sysOptionService.getSysOptionByIniid("SYS.STORE.PATH").getNowvalue();//            LocalFileSystem.init(filePath);//            FileSystemUtil.setSystem(new LocalFileSystem());//            log.debug("==============本地文件服务初始化成功(" + filePath + ")=====================");//        }else if ("2".equals(fileType)) {        String accessKeyId = sysOptionService.getSysOptionByIniid("OSS.ACCESS.KEY.ID").getNowvalue();        String accessKeySecret = sysOptionService.getSysOptionByIniid("OSS.ACCESS.KEY.SECRET").getNowvalue();        String netDomainName = sysOptionService.getSysOptionByIniid("OSS.NET.DOMAINNAME").getNowvalue();        String bucketname = sysOptionService.getSysOptionByIniid("OSS.SERVER.BUCKETNAME").getNowvalue();        OSSFileSystem.init(accessKeyId.trim(), accessKeySecret.trim(), netDomainName.trim(), bucketname.trim());        FileSystemUtil.setSystem(new OSSFileSystem());        LogUtil.log("==============阿里云OSS文件服务初始化成功(" + accessKeyId + "," + accessKeySecret + "," + netDomainName + "," + bucketname + ")=====================");//        }else if ("3".equals(fileType)) {//            //hadoop文件服务器集群，仅供内网使用//            String ip = "hdfs://192.168.20.1:9000";//            String value = System.getProperty("hdfs");//            if (StringUtils.isNotBlank(value)) {//                ip = "hdfs://" + value + ":9000";//            }//            HDSFFileSystem.init(ip);//            FileSystemUtil.setSystem(new HDSFFileSystem());//            log.debug("==============Hadoop HDFS文件服务初始化成功(" + ip + ")=====================");//        }    }//    public void setFilePath(String filePath) {//        this.filePath = filePath;//    }}