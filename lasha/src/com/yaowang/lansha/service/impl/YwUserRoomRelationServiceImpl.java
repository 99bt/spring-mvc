package com.yaowang.lansha.service.impl;import java.util.List;import java.util.Map;import javax.annotation.Resource;import com.yaowang.lansha.common.constant.LanshaConstant;import org.springframework.stereotype.Service;import com.yaowang.common.dao.PageDto;import com.yaowang.lansha.dao.YwUserRoomDao;import com.yaowang.lansha.dao.YwUserRoomRelationDao;import com.yaowang.lansha.entity.YwUserRoomRelation;import com.yaowang.lansha.service.YwUserRoomRelationService;/** * 房间关注  * @author  *  */@Service("ywUserRoomRelationService")public class YwUserRoomRelationServiceImpl implements YwUserRoomRelationService{	@Resource	private YwUserRoomRelationDao ywUserRoomRelationDao;	@Resource	private YwUserRoomDao ywUserRoomDao;		@Override	public YwUserRoomRelation save(YwUserRoomRelation entity){		//人数+1		int count = ywUserRoomDao.updateFans(entity.getRoomId(), 1);		if (count > 0) {			return ywUserRoomRelationDao.save(entity);		}else {			return entity;		}	}		@Override	public Integer delete(String[] ids, String roomId){		//人数-1		int count = ywUserRoomDao.updateFans(roomId, ids.length * -1);		if (count > 0) {            return ywUserRoomRelationDao.updateStatusById(LanshaConstant.STATUS_DELETE,ids[0]);//			return ywUserRoomRelationDao.delete(ids);		}else {			return 0;		}	}	@Override	public Integer update(YwUserRoomRelation entity){		return ywUserRoomRelationDao.update(entity);	}		@Override	public YwUserRoomRelation getYwUserRoomRelationById(String id){		return ywUserRoomRelationDao.getYwUserRoomRelationById(id);	}		@Override	public Map<String, YwUserRoomRelation> getYwUserRoomRelationMapByIds(String[] ids){		return ywUserRoomRelationDao.getYwUserRoomRelationMapByIds(ids);	}		@Override	public List<YwUserRoomRelation> getYwUserRoomRelationList(YwUserRoomRelation entity){		return ywUserRoomRelationDao.getYwUserRoomRelationList(entity);	}		@Override	public List<YwUserRoomRelation> getYwUserRoomRelationPage(YwUserRoomRelation entity, PageDto page){		return ywUserRoomRelationDao.getYwUserRoomRelationPage(entity, page);	}		@Override	public Integer getSumRelationNumber(YwUserRoomRelation relation) {		return ywUserRoomRelationDao.getSumRelationNumber(relation);	}    @Override    public Integer updateSave(YwUserRoomRelation entity) {        //人数+1        int count = ywUserRoomDao.updateFans(entity.getRoomId(), 1);        if (count > 0) {            return ywUserRoomRelationDao.updateStatusById(1,entity.getId());        }else {            return null;        }    }}