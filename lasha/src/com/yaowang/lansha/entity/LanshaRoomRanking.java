package com.yaowang.lansha.entity;import com.yaowang.service.impl.SysOptionServiceImpl;import com.yaowang.util.DateUtils;import java.io.Serializable;import java.text.SimpleDateFormat;import java.util.Date;/** * 房间排名 * * @author */public class LanshaRoomRanking implements Serializable {    private static final long serialVersionUID = 1L;    /**     * id     */    private String id;    /**     * 用户id     */    private String userId;    /**     * 用户名     */    private String userName;    /**     * 房间id     */    private Integer roomIdint;    /**     * 房间名     */    private String roomName;    /**     * 直播总时长(分钟)     */    private Integer liveTime;    /**     * 有效直播时长(分钟)     */    private Integer vaildLiveTime;    /**     * 每日虾米数量     */    private Integer xiamiNumber;    /**     * 每日关注数量     */    private Integer relationNumber;    /**     * 每日取消关注数量     */    private Integer cancelNumber;    /**     * 每日鲜花数     */    private Integer flowerNubmer;    /**     * 观众人数     */    private Integer audience;    /**     * 创建时间     */    private Date createTime;    /**     * 排名周期     */    private String rankCircle;    /**     * 每日日票数     */    private Integer ticketNumber;    /**     * 是否签约(0:未签约,1:已签约)     */    private Integer sign;    /**     * 有效天数     */    private Integer vaildDays = 0;    private String gameName;    /**     * 工资     */    private Float salary = 0.00f;    /**     * 积分     */    private Float score;    /**     * 排名     */    private Integer rank;    private Float price = 0.0f;    private String priceInfo;    private String timeFrame;    private String remark;    /**     * 设置id     */    public void setId(String id) {        this.id = id;    }    /**     * 获取id     */    public String getId() {        return this.id;    }    /**     * 设置用户id     */    public void setUserId(String userId) {        this.userId = userId;    }    /**     * 获取用户id     */    public String getUserId() {        return this.userId;    }    /**     * 获取用户名     */    public String getUserName() {        return userName;    }    public void setUserName(String userName) {        this.userName = userName;    }    /**     * 设置房间id     */    public void setRoomIdint(Integer roomIdint) {        this.roomIdint = roomIdint;    }    /**     * 获取房间id     */    public Integer getRoomIdint() {        return this.roomIdint;    }    /**     * 设置直播时长(分钟)     */    public void setLiveTime(Integer liveTime) {        this.liveTime = liveTime;    }    /**     * 获取直播时长(分钟)     */    public Integer getLiveTime() {        return this.liveTime;    }    /**     * 设置每日虾米数量     */    public void setXiamiNumber(Integer xiamiNumber) {        this.xiamiNumber = xiamiNumber;    }    /**     * 获取每日虾米数量     */    public Integer getXiamiNumber() {        return this.xiamiNumber;    }    /**     * 设置每日关注数量     */    public void setRelationNumber(Integer relationNumber) {        this.relationNumber = relationNumber;    }    /**     * 获取每日关注数量     */    public Integer getRelationNumber() {        return this.relationNumber;    }    /**     * 设置每日鲜花数     */    public void setFlowerNubmer(Integer flowerNubmer) {        this.flowerNubmer = flowerNubmer;    }    /**     * 获取每日鲜花数     */    public Integer getFlowerNubmer() {        return this.flowerNubmer;    }    /**     * 设置观众人数     */    public void setAudience(Integer audience) {        this.audience = audience;    }    /**     * 获取观众人数     */    public Integer getAudience() {        return this.audience;    }    /**     * 设置create_time     */    public void setCreateTime(Date createTime) {        this.createTime = createTime;    }    /**     * 获取create_time     */    public Date getCreateTime() {        return clearTime(this.createTime);    }    /**     * 设置房间名     */    public String getRoomName() {        return roomName;    }    public void setRoomName(String roomName) {        this.roomName = roomName;    }    /**     * 获取排名周期     */    public String getRankCircle() {        return rankCircle;    }    public void setRankCircle(String rankCircle) {        this.rankCircle = rankCircle;    }    /**     * @return     * @Description: 格式化直播时长     */    public String getPlayTime() {        return DateUtils.secondToTime(this.getLiveTime() * 60);    }    public Integer getTicketNumber() {        return ticketNumber;    }    public Integer getCancelNumber() {        return cancelNumber;    }    public void setCancelNumber(Integer cancelNumber) {        this.cancelNumber = cancelNumber;    }    public void setTicketNumber(Integer ticketNumber) {        this.ticketNumber = ticketNumber;    }    public Integer getSign() {        return sign;    }    public void setSign(Integer sign) {        this.sign = sign;    }    public Integer getVaildDays() {        return vaildDays;    }    public void setVaildDays(Integer vaildDays) {        this.vaildDays = vaildDays;    }    public String getGameName() {        return gameName;    }    public void setGameName(String gameName) {        this.gameName = gameName;    }    public Float getSalary() {        return salary;    }    public void setSalary(Float salary) {        this.salary = salary;    }    public Integer getRank() {        return rank;    }    public void setRank(Integer rank) {        this.rank = rank;    }    public Float getPrice() {        return price;    }    public void setPrice(Float price) {        this.price = price;    }    public String getPriceInfo() {        return price + "元/小时";    }    public void setPriceInfo(String priceInfo) {        this.priceInfo = priceInfo;    }    private Date clearTime(Date time) {        if (null == time) {            time = new Date();        }        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd 00:00:00");        return DateUtils.pasetime(sdf.format(time));    }    public String getTimeFrame() {        return timeFrame;    }    public void setTimeFrame(String timeFrame) {        this.timeFrame = timeFrame;    }    public String getRemark() {        return remark;    }    public void setRemark(String remark) {        this.remark = remark;    }    /**     * 获取积分     *     * @return     */    public Float getGrade() {        //积分参数        String option = SysOptionServiceImpl.getValue("LANSHA.ROOM.RANKING");        String[] rans = option.split(",");        return getLanshaRoomRanking(this, rans);    }    public Float getScore() {        return score;    }    public void setScore(Float score) {        this.score = score;    }    public Integer getVaildLiveTime() {        return vaildLiveTime;    }    public void setVaildLiveTime(Integer vaildLiveTime) {        this.vaildLiveTime = vaildLiveTime;    }    /**     * 积分结算     * @return     */    public static Float getLanshaRoomRanking(LanshaRoomRanking ranking, String[] rans) {        Float score = 0f;        //直播时长        score = score + (null == ranking.getLiveTime() ? 0 : ranking.getLiveTime()) / 60 * Float.valueOf(rans[0]);        //虾米        score = score + (null == ranking.getXiamiNumber() ? 0 : ranking.getXiamiNumber()) * Float.valueOf(rans[1]);        //关注数        score = score + (null == ranking.getRelationNumber() ? 0 : ranking.getRelationNumber()) * Float.valueOf(rans[2]);        //鲜花        score = score + (null == ranking.getFlowerNubmer() ? 0 : ranking.getFlowerNubmer()) * Float.valueOf(rans[3]);        //人气        score = score + (null == ranking.getAudience() ? 0 : ranking.getAudience()) * Float.valueOf(rans[4]);        //取消关注        score = score + (null == ranking.getCancelNumber() ? 0 : ranking.getCancelNumber()) * Float.valueOf(rans[5]);        //日票        score = score + (null == ranking.getTicketNumber() ? 0 : ranking.getTicketNumber()) * Float.valueOf(rans[6]);        return score;    }    }