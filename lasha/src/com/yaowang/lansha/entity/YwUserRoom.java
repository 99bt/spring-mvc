package com.yaowang.lansha.entity;import java.io.Serializable;import java.util.Collections;import java.util.Comparator;import java.util.Date;import java.util.List;import java.util.Set;import org.apache.commons.lang.StringUtils;import com.yaowang.lansha.common.constant.LanshaConstant;import com.yaowang.util.DateUtils;import com.yaowang.util.LanshaResource;/** * yw_user_room * * @author */public class YwUserRoom implements Serializable {    private static final long serialVersionUID = 1L;    /**     * 流媒体房间前缀     */    public static final String LIVE = LanshaResource.dataMap.get("live-path");    /**     * id     */    private String id;    /**     * 自增id     */    private Integer idInt;    /**     * uid     */    private String uid;    /**     * 房间名称     */    private String name;    /**     * rtmp     */    private String rtmp;    /**     * room_id     */    private String roomId;    /**     * live_host     */    private String liveHost;    /**     * ws_host     */    private String wsHost;    /**     * online(0下线1上线2禁播4隐藏删除)     */    private Integer online;    /**     * number     */    private Integer number;    /**     * 基数     */    private Integer baseNumber;    /**     * 倍数     */    private Integer multipleNumber;    /**     * openfir_path     */    private String openfirePath;    /**     * im端口号     */    private String openfirePort;    /**     * im房间号     */    private String openfireRoom;    /**     * im聊天室     */    private String openfireConference;    /**     * 创建时间     */    private Date createTime;    /**     * update_time     */    private Date updateTime;    /**     * 排序     */    private Integer orderId;    /**     * 粉丝数     */    private Integer fans;    /**     * 介绍     */    private String intro;    /**     * 公告     */    private String notice;    /**     * 举报人数     */    private Integer reportNum;    /**     * 直播时长     */    private Integer timeLength;    /**     * 开播时间     */    private String startTime;    /**     * 是否签约(0：未签约；1已签约)     */    private String sign;    /**     * 主播间流截屏     */    private String liveImg;    private String nickname;//用户昵称    private String userIcon;//用户头像    private String gameName;//游戏名称    private Set<String> gameIds;// 游戏ids    private Integer isHotRoom;// 是否是热门房间    private String username;//用户名    private String timeFrame;// 查询日期范围    private String gameId;    private String remark;    private String remarks;//备注 禁播原因    private Integer daShen;//是否大神    private Integer nvShen;//是否女神    private String roomHotType;//推荐房间类型    /**     * 排序     */    private String orderSql;    /**     * 设置id     */    public void setId(String id) {        this.id = id;    }    /**     * 获取id     */    public String getId() {        return this.id;    }    /**     * 设置uid     */    public void setUid(String uid) {        this.uid = uid;    }    /**     * 获取uid     */    public String getUid() {        return this.uid;    }    /**     * 设置rtmp     */    public void setRtmp(String rtmp) {        this.rtmp = rtmp;    }    /**     * 获取rtmp     */    public String getRtmp() {        return this.rtmp;    }    /**     * 设置room_id     */    public void setRoomId(String roomId) {        this.roomId = roomId;    }    /**     * 获取room_id     */    public String getRoomId() {        return this.roomId;    }    /**     * 设置live_host     */    public void setLiveHost(String liveHost) {        this.liveHost = liveHost;    }    /**     * 获取live_host     */    public String getLiveHost() {        return this.liveHost;    }    /**     * 设置ws_host     */    public void setWsHost(String wsHost) {        this.wsHost = wsHost;    }    /**     * 获取ws_host     */    public String getWsHost() {        return this.wsHost;    }    /**     * 设置online     */    public void setOnline(Integer online) {        this.online = online;    }    /**     * 获取online     */    public Integer getOnline() {        return this.online;    }    /**     * 设置number     */    public void setNumber(Integer number) {        this.number = number;    }    /**     * 获取number     */    public Integer getNumber() {        return this.number;    }    /**     * 前台展示人数     *     * @return     */    public Integer getOnLineNumber() {        //当前人数*倍数+基数        if (number == null) {            number = 0;        }        return this.number * multipleNumber + baseNumber;    }    /**     * 设置update_time     */    public void setUpdateTime(Date updateTime) {        this.updateTime = updateTime;    }    /**     * 获取update_time     */    public Date getUpdateTime() {        return this.updateTime;    }    /**     * 设置粉丝数     */    public void setFans(Integer fans) {        this.fans = fans;    }    /**     * 获取粉丝数     */    public Integer getFans() {        return this.fans;    }    public Integer getOrderId() {        return orderId;    }    public void setOrderId(Integer orderId) {        this.orderId = orderId;    }    public String getOpenfirePort() {        return openfirePort;    }    public void setOpenfirePort(String openfirePort) {        this.openfirePort = openfirePort;    }    public String getOpenfireRoom() {        return openfireRoom;    }    public void setOpenfireRoom(String openfireRoom) {        this.openfireRoom = openfireRoom;    }    public String getOpenfireConference() {        return openfireConference;    }    public void setOpenfireConference(String openfireConference) {        this.openfireConference = openfireConference;    }    public Date getCreateTime() {        return createTime;    }    public void setCreateTime(Date createTime) {        this.createTime = createTime;    }    public List<YwUserRoom> list;    public List<YwUserRoom> getList() {        return list;    }    public void setList(List<YwUserRoom> list) {        this.list = list;    }    public String getOpenfirePath() {        return openfirePath;    }    public void setOpenfirePath(String openfirePath) {        this.openfirePath = openfirePath;    }    public String getIntro() {        return intro;    }    public void setIntro(String intro) {        this.intro = intro;    }    public String getNotice() {        return notice;    }    public void setNotice(String notice) {        this.notice = notice;    }    public String getNickname() {        return nickname;    }    public void setNickname(String nickname) {        this.nickname = nickname;    }    public String getGameId() {        return gameId;    }    public void setGameId(String gameId) {        this.gameId = gameId;    }    public Integer getReportNum() {        return reportNum;    }    public void setReportNum(Integer reportNum) {        this.reportNum = reportNum;    }    public Integer getTimeLength() {        return timeLength;    }    public void setTimeLength(Integer timeLength) {        this.timeLength = timeLength;    }    public String getStartTime() {        return startTime;    }    public void setStartTime(String startTime) {        this.startTime = startTime;    }    public String getGameName() {        return gameName;    }    public void setGameName(String gameName) {        this.gameName = gameName;    }    public String getName() {        return name;    }    public void setName(String name) {        this.name = name;    }    /**     * 加密后的流地址     *     * @return     */    public String getRtmpEncode() {        return rtmp;    }    /**     * 加密后的房间号     *     * @return     */    public String getRoomIdEncode() {        return roomId;    }    public Integer getBaseNumber() {        return baseNumber;    }    public void setBaseNumber(Integer baseNumber) {        this.baseNumber = baseNumber;    }    public Integer getMultipleNumber() {        return multipleNumber;    }    public void setMultipleNumber(Integer multipleNumber) {        this.multipleNumber = multipleNumber;    }    public String getUserIcon() {    	if(StringUtils.isBlank(userIcon)){    		return "error";    	}        return userIcon;    }    public void setUserIcon(String userIcon) {        this.userIcon = userIcon;    }    public Set<String> getGameIds() {        return gameIds;    }    public void setGameIds(Set<String> gameIds) {        this.gameIds = gameIds;    }    public Integer getIdInt() {        return idInt;    }    public void setIdInt(Integer idInt) {        this.idInt = idInt;    }    public Integer getIsHotRoom() {        return isHotRoom;    }    public void setIsHotRoom(Integer isHotRoom) {        this.isHotRoom = isHotRoom;    }    /**     * 获取视频流截图     *     * @return     */    public String getLiveImg() {        if (StringUtils.isEmpty(liveImg)) {            liveImg = "/room/pic/" + id;        }        return liveImg;    }    public void setLiveImg(String liveImg) {        this.liveImg = liveImg;    }    /**     * @return     * @Description: 格式化直播时长     */    public String getPlayTime() {        return DateUtils.secondToTime(timeLength);    }    public String getOrderSql() {        return orderSql;    }    public void setOrderSql(String orderSql) {        this.orderSql = orderSql;    }    public String getUsername() {        return username;    }    public void setUsername(String username) {        this.username = username;    }    public String getTimeFrame() {        return timeFrame;    }    public void setTimeFrame(String timeFrame) {        this.timeFrame = timeFrame;    }    /**     * hls流地址     *     * @return     */    public String getHls() {        String hls = null;        if (StringUtils.isEmpty(liveHost)) {            hls = rtmp;        } else {            hls = liveHost;        }        if (StringUtils.isEmpty(hls)) {            return hls;        }        hls = hls.replaceFirst("rtmp://", "http://");        hls = hls + roomId + "/playlist.m3u8";        return hls;    }    public String getSign() {        return sign;    }    public void setSign(String sign) {        this.sign = sign;    }    public String getRemark() {        return remark;    }    public void setRemark(String remark) {        this.remark = remark;    }    public String getRemarks() {        return remarks;    }    public void setRemarks(String remarks) {        this.remarks = remarks;    }    public Integer getDaShen() {        return daShen;    }    public void setDaShen(Integer daShen) {        this.daShen = daShen;    }    public Integer getNvShen() {        return nvShen;    }    public void setNvShen(Integer nvShen) {        this.nvShen = nvShen;    }    /**     * 是否在线     *     * @return true--在线; false--离线     */    public boolean checkOnline() {        if (null == this.online) {            return false;        }        return LanshaConstant.STATUS_ONLINE.equals(this.online);    }    public static void sort(List<YwUserRoom> list) {        Collections.sort(list, new Comparator<YwUserRoom>() {            @Override            public int compare(YwUserRoom r1, YwUserRoom r2) {                return r2.getOnLineNumber() - r1.getOnLineNumber();            }        });    }    public String getRoomHotType() {        return roomHotType;    }    public void setRoomHotType(String roomHotType) {        this.roomHotType = roomHotType;    }    @Override    public boolean equals(Object obj) {        YwUserRoom s = (YwUserRoom) obj;        return id.equals(s.id);    }    @Override    public int hashCode() {        String in = id;        return in.hashCode();    }}